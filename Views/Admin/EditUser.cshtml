@{
  ViewData["Title"] = "Edit User".ToUpper();
  User userEdit = ViewBag.userEdit;
}

<section class="section-edit-user mt-5 mb-5">
  <div class="container admin-container border shadow mb-5">
    <div class="row">
      <div class="col-lg-3 col-md-3 col-sm-12 p-2 border-right">
        <partial name="Sidebar" model="@userEdit"/>
      </div>
      <div class="col-lg-9 col-md-9 col-sm-12 p-3">
        <a class="text-secondary float-right" asp-controller="Admin" asp-action="Dashboard">Back</a>
        <h1 class="text-primary">@ViewData["Title"]</h1>
        <hr class="my-4 bg-white">
        <h3>PROFILE</h3>
        @model UserViewModel
        <form enctype="multipart/form-data" class="text-muted border border-secondary p-4" asp-controller="Admin" asp-action="UpdateUser" asp-route-id="@userEdit.UserId" method="POST">
          <span class="text-danger" asp-validation-for="FirstName"></span>
          <div class="form-group">
            <label asp-for="FirstName">First name</label>
            <input asp-for="FirstName" type="text" class="form-control" id="FirstName" name="FirstName" placeholder="Enter first name" value="@(userEdit == null ? String.Empty : userEdit.FirstName)">
          </div>
          <span class="text-danger" asp-validation-for="LastName"></span>
          <div class="form-group">
            <label asp-for="LastName">Last name</label>
            <input asp-for="LastName" type="text" class="form-control" id="LastName" name="LastName" placeholder="Enter last name" value="@(userEdit == null ? String.Empty : userEdit.LastName)">
          </div>
          <span class="text-danger" asp-validation-for="Email"></span>
          <div class="form-group">
            <label asp-for="Email">Email</label>
            <input asp-for="Email" type="email" class="form-control" id="Email" name="Email" placeholder="Enter email" value="@(userEdit == null ? String.Empty : userEdit.Email)">
          </div>
          <span class="text-danger" asp-validation-for="UserImage"></span>
          <div class="form-group">
            <label asp-for="UserImage">User Image</label>
            <input asp-for="UserImage" type="file" class="form-control" id="UserImage" name="UserImage">
          </div>
          <span class="text-danger" asp-validation-for="UserResume"></span>
          <div class="form-group">
            <label asp-for="UserResume">User Resume (pdf only)</label>
            <input asp-for="UserResume" type="file" class="form-control" id="UserResume" name="UserResume">
          </div>
          <span class="text-danger" asp-validation-for="UserInfo"></span>
          <div class="form-group">
            <label asp-for="UserInfo">User information</label>
            <textarea name="UserInfo" id="UserInfo"  class="form-control" style="height: 150px;">@userEdit.Info</textarea>
          </div>
          <a asp-controller="Admin" asp-action="Dashboard" class="btn btn-outline-secondary text-white">Cancel</a>
          <button type="submit" class="btn btn-primary">Update</button>
        </form>
        
        <h3 class="mt-4">PASSWORD</h3>
        <form class="text-muted border border-secondary p-4" asp-controller="Admin" asp-action="ResetPasswordInside" asp-route-id="@userEdit.UserId" method="POST">
          <span class="text-danger" asp-validation-for="NewPassword"></span>
          <div class="form-group">
            <label asp-for="NewPassword">New password</label>
            <input asp-for="NewPassword" type="password" class="form-control" id="NewPassword" name="NewPassword" placeholder="Enter new password">
          </div>
          <span class="text-danger" asp-validation-for="NewPasswordConfirmation"></span>
          <div class="form-group">
            <label asp-for="NewPasswordConfirmation">Confirm new password</label>
            <input asp-for="NewPasswordConfirmation" type="password" class="form-control" id="NewPasswordConfirmation" name="NewPasswordConfirmation" placeholder="Confirm new password">
          </div>

          <a asp-controller="Admin" asp-action="Dashboard" class="btn btn-outline-secondary text-white">Cancel</a>
          <button type="submit" class="btn btn-primary">Update</button>
        </form>
      </div>
    </div>
  </div>
</section>
