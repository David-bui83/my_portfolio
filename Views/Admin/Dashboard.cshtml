@{
  ViewData["Title"] = "Dashboard".ToUpper();
  User user = ViewBag.user;
}

<section class="section-dashboard mt-5">
  <div class="container admin-container border shadow mb-5">
    <div class="row">
      <div class="col-lg-3 col-md-3 col-sm-12 p-2 border-right">
        <partial name="Sidebar" model="@user"/>
      </div>
      <div class="col-lg-9 col-md-9 col-sm-12 p-3">
        <h1 class="text-primary" >@ViewData["Title"]</h1>
        <hr class="my-4 bg-white">
        <div class="jumbotron jum-1">
          <h3 class="mb-4">PROJECTS</h3>
          <div class="dashboard-table-container">
            <table class="table table-striped table-dark">
              <thead>
                <tr>
                  <th class="text-muted">Name</th>
                  <th class="text-muted">Image</th>
                  <th class="text-muted">Control</th>
                </tr>
              </thead>
              <tbody>
                @{
                  foreach(var project in ViewBag.projects)
                  {
                    <tr>
                      <td class="font-weight-bold">@project.ProjectName</td>
                      <td><img src="~/@project.ProjectImage" alt="@project.ProjectName" style="width: 35px; height: 25px;"></td>
                      <td>
                        <a class="text-muted" asp-controller="Admin" asp-action="ViewProject" asp-route-id="@project.ProjectId">View</a> | <a class="text-muted" asp-controller="Admin" asp-action="EditProject" asp-route-id="@project.ProjectId">Edit</a> | <a class="text-muted" asp-controller="Admin" asp-action="AddDetail" asp-route-id="@project.ProjectId">Detail</a> | <a class="text-muted" asp-controller="Admin" asp-action="DeleteProject" asp-route-id="@project.ProjectId">Delete</a>
                      </td>
                    </tr>
                  }
                }
              </tbody>
            </table>
          </div>
        </div>
        
        <div class="jumbotron jum-2">
          <h3 class="mb-4">TECHNOLOGIES</h3>
          <div class="dashboard-table-container">
            <table class="table table-striped table-dark">
              <thead>
                <tr>
                  <th class="text-muted">Name</th>
                  <th class="text-muted">Image</th>
                  <th class="text-muted">Control</th>
                </tr>
              </thead>
              <tbody>
                @{
                  foreach(var tech in ViewBag.technologies)
                  {
                    <tr>
                      <td class="font-weight-bold">@tech.TechnologyName</td>
                      <td><img src="~/@tech.TechnologyImage" alt="@tech.TechnologyName" style="width:20px; height: 20px;"></td>
                    <td>
                      <a class="text-muted" asp-controller="Admin" asp-action="EditTechnology" asp-route-id="@tech.TechnologyId">Edit</a> | <a class="text-muted" asp-controller="Admin" asp-action="DeleteTechnology" asp-route-id="@tech.TechnologyId">Delete</a>
                    </td>
                </tr>
                  }
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>